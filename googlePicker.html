<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="google-signin-client_id" content="661332306814-8nt29308rppg325bkq372vli8nm3na14.apps.googleusercontent.com">
    <title>Google Picker</title>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

    <!-- Google JS -->
    <script src="https://apis.google.com/js/platform.js"></script>

    <!-- IGV JS -->
    <script src="http://igv.org/web/release/2.0.0-beta7/dist/igv.js"></script>

    <!-- Google Picker JS -->
    <!--<script src="js/googlePicker.js"></script>-->
    <script src="js/googleAdmin.js"></script>

</head>
<body>

<div id="myDiv">
    <div>
        <button id="googlePickerButton" disabled onclick="appGooglePicker()">Google Drive</button>
    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {
        let igvConfig,
            gapiConfig;

        igvConfig = {
            promisified:true,
            genome: "hg19",
            queryParametersSupported: true
        };

        gapiConfig =
            {
                callback: function () {
                    appGoogleInit($('#myDiv'), igvConfig)
                        .then(function (browser) {
                            console.log('got browser');
                            appGoogleInitCleanup();
                        });
                },
                onerror: function () {
                    console.log('gapi.client:auth2 - failed to load!');
                }
            };

        gapi.load('client:auth2', gapiConfig);


    });


</script>

</body>
</html>